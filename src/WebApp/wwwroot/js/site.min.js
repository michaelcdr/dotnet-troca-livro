function createGuid(){let n=()=>Math.floor((1+Math.random())*65536).toString(16).substring(1),t=`${n()}${n()}-${n()}-${n()}-${n()}-${n()}${n()}${n()}`;return t.toLowerCase()}function removerArquivoDoFileList(n,t){const i=new DataTransfer,r=document.querySelector(t),{files:u}=r;for(let t=0;t<u.length;t++){const r=u[t];n!==t&&i.items.add(r)}r.files=i.files}function obterIndiceImagem(n){let t=-1;return $(".card").each(function(i,r){if($(r).data("imagemId")===n){t=i;return}}),t}function obterCardUpload(n,t){return`<div class="col-md-2 d-flex m-3 align-items-stretch  card" data-imagem-id="${n}" >
        <div class="img-livro-container text-center pt-2 pb-2">
            <img src="${t}" class='img-livro' style='max-width:100px; max-height: 100px' />
        </div>
        <div class="text-center pb-2">
            <button class="btn btn-danger btn-sm btn-remover-img" data-imagem-id="${n}" type="button">Remover</button>
        </div>
    </div>`}(function(n){n.sidebar=function(t,i){var r,u;return n(".tooltip").remove(),r={metodo:"GET",nivel:1,fechar:!0,fecharAoClicarFora:!0,pesquisaFixa:!1,submit:!1,focusCustomizado:!1},n.extend(r,i),n(".sidebar").length===0&&(n("body").append("<div class='sidebar-overlay branco' ><\/div>"),r.fecharAoClicarFora&&(n(".sidebar-overlay").unbind("click"),n(".sidebar-overlay").click(function(){n.sidebar.fnFechar()})),n("body").append("<div class='sidebar animated slideInRight open '><\/div>")),n("body").css("overflow","hidden"),n(".sidebar > .nivel").addClass("hidden"),n(r.target).button("loading"),n(".sidebar").append("<div class='nivel "+(r.pesquisaFixa?"pesquisa":"")+"' data-nivel='"+r.nivel+"'><\/div>"),n(".sidebar .nivel[data-nivel='"+r.nivel+"']").html('<div class="loading-flutuante">Processando, aguarde<\/div>'),u=n.ajax({url:r.url,type:r.metodo,data:r.parametros}),u.fail(function(t){t.status==404?console.error("Página não encontrada, erro 404"):console.error(t.statusText);n.sidebar.fnRemoverNivel(r.nivel)}),u.done(function(t){var i,u;n(r.target).button("reset");n(".sidebar .nivel[data-nivel='"+r.nivel+"']").html(t);const f=13;i=n(".sidebar .nivel[data-nivel='"+r.nivel+"'] form");i.submit(function(){return!1});n(document).keyup(function(n){n.which==f&&i.find(".rodape button[data-submit=true]").length>0&&i.find(".rodape button[data-submit=true]").trigger("click")});r.callbackAbrir!=null&&typeof r.callbackAbrir=="function"&&r.callbackAbrir.call(this);n.sidebar._fnMontarBotoes();r.fechar&&(u=n("<i class='fa fa-remove pull-right' style='cursor:pointer;' />"),u.click(function(){n.sidebar.fnFechar()}),n(".sidebar .nivel[data-nivel='"+r.nivel+"'] .cabecalho").append(u));r.focusCustomizado||n.sidebar.fnFocus()}),r.fechar&&(n(document).unbind("keyup"),n(document).keyup(function(t){t.which==27&&n.sidebar.fnFechar(t)})),n.sidebar._fnMontarBotao=function(t){var r="...",i;return t.loadingText?r=t.loadingText:t.submit===!0&&(r="Processando, aguarde..."),i=n("<button id='"+t.id+"' type='button' class='btn "+t.estilo+"' data-submit='"+(t.submit===!0)+"' data-loading-text='"+r+"' /> "),n.isNullOrEmptyOrUndefined(t.icone)||i.html("<i class='"+t.icone+"'><\/i> "),n.isNullOrEmptyOrUndefined(t.label)||i.html(i.html()+" "+t.label),i},n.sidebar._fnMontarEventoBotao=function(t,i){return t.click(function(r){if(i.submit){if(form.validate().form()){let r=n(t);n.isNullOrEmptyOrUndefined(i.id)||(r=n("#"+i.id));r.button("loading");n.post(form.attr("action"),form.serialize(),function(n){n.Sucesso?i.callback!=null&&typeof i.callback=="function"&&i.callback.call(this,n):console.error("Ops, ocorreu um problema verifique a seguir: "+n.Texto);r.button("reset")}).error(function(n){console.error(`Erro ${n.statusText}`);r.button("reset")})}}else i.callback!=null&&typeof i.callback=="function"&&i.callback.call(this,r)}),t},n.sidebar._fnMontarBotoes=function(){r.botoes!==null&&r.botoes.length>0&&n(r.botoes).each(function(t,i){let u=n.sidebar._fnMontarBotao(i);u=n.sidebar._fnMontarEventoBotao(u,i);n(".sidebar .nivel[data-nivel='"+r.nivel+"'] .rodape").append(u)})},n.sidebar.fnLoader=function(t){n(".sidebar.open .rodape").find("button").button(t===!0?"loading":"reset")},n.sidebar.fnFechar=function(){n("body").css("overflow","unset");n(".sidebar").toggleClass("slideOutRight");n(".sidebar-overlay").fadeOut(300,function(){n(".datepicker").remove();n(".sidebar-overlay").remove();n(".sidebar").remove();n(".popover.note-popover").remove();n(document).unbind("keyup");r.callbackFechar!=null&&typeof r.callbackFechar=="function"&&r.callbackFechar.call(this)})},n.sidebar.fnFocus=function(){n(".sidebar .nivel[data-nivel='"+r.nivel+"']").find("input:not(:hidden),select,textarea").first().focus()},n.sidebar.fnAdicionarNivel=function(){var t=n(".sidebar > .nivel").length+1;n(".sidebar > .nivel").addClass("hidden");n(".sidebar").append("<div class='nivel' data-nivel='"+t+"'><\/div>")},n.sidebar.fnRemoverNivel=function(t){if(t==1)n.sidebar.fnFechar();else{var i=t-1;n(".sidebar > .nivel[data-nivel="+t+"]").fadeOut(300,function(){n(this).remove()});n(".sidebar > .nivel:not(.hidden)").addClass("hidden");n(".sidebar > .nivel[data-nivel="+i+"]").removeClass("hidden")}},this}})(jQuery),function(n){n.fn.button=function(t){this.length>0&&this.each(function(){t==="loading"&&n(this).data("loading-text")?n(this).data("original-text",n(this).html()).html(n(this).data("loading-text")).prop("disabled",!0):t==="reset"&&n(this).data("original-text")&&n(this).html(n(this).data("original-text")).prop("disabled",!1)})}}(jQuery);window.alertSuccess=function(n,t){let i={type:"success",toast:!0,position:"top-start",timer:3e3,showConfirmButton:!1};$.extend(i,n);Swal.fire(i).then(()=>{typeof t=="function"&&t()})};window.alertError=function(n){let t={title:"Ops, algo deu errado",type:"error",showConfirmButton:!1};$.extend(t,n);Swal.fire(t)};window.alertServerError=function(){Swal.fire({toast:!1,title:"Ops, algo deu errado",text:"Ocorreu um erro interno em nossos servidores, tente novamente mais tarde.",type:"error"})};window.alertConfirm=function(n,t){let i={title:"Atenção",text:"Erro deseja remover?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DC3545",cancelButtonColor:"#343A40",confirmButtonText:"Sim, desejo remover",cancelButtonText:"Cancelar"};$.extend(i,n);Swal.fire(i).then(n=>{n.value&&t()})};window.alertConfirmComPromise=function(n,t){Swal.fire({text:n,confirmButtonText:"OK",confirmButtonColor:"#28a745",showLoaderOnConfirm:!0,title:"Atenção",type:"warning",showCancelButton:!0,cancelButtonColor:"#343A40",cancelButtonText:"Cancelar",preConfirm:t})};$.extend({isNullOrEmpty:function(n){try{return n===null||n===""}catch(t){return t.message}},isNullOrEmptyOrUndefined:function(n){try{return n===null||n===undefined||n===""}catch(t){return t.message}}});$(document).ready(function(){(function(n){n(".dropdown-menu a.dropdown-toggle").on("click",function(){console.log("clicou");n(this).next().hasClass("show")||n(this).parents(".dropdown-menu").first().find(".show").removeClass("show");var t=n(this).next(".dropdown-menu");t.toggleClass("show");n(this).parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",function(){n(".dropdown-submenu .show").removeClass("show")});return!1});n(".navbar-toggler").click(function(){n(".container-menu").hasClass("open")?n(".container-menu").removeClass("open"):n(".container-menu").addClass("open")})})(jQuery)});