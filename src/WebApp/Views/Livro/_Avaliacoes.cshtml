@model LivroDetalhes

<div class="row">
    <div class="col-md-12 mt-3">
        <div id="div-avaliacao" class="pull-right pb-2">
            <div id="div-titulo-avaliacoes">Avaliações dos usuários:</div>
            <div id="div-avaliacao-geral-estrelas" class="nota">
                <div class="nota-componente">
                    <span class="fa fa-star @(Model.CalcularAvaliacao() < 1 ? "deselecionada" :"")" ></span>
                    <span class="fa fa-star @(Model.CalcularAvaliacao() < 2 ? "deselecionada" :"")" ></span>
                    <span class="fa fa-star @(Model.CalcularAvaliacao() < 3 ? "deselecionada" :"")" ></span>
                    <span class="fa fa-star @(Model.CalcularAvaliacao() < 4 ? "deselecionada" :"")" ></span>
                    <span class="fa fa-star @(Model.CalcularAvaliacao() < 5 ? "deselecionada" :"")" ></span>
                </div>
            </div>
            <div id="div-avaliacao-geral" class="pull-left" style="">
                @Model.ObterAvaliacaoFormatada()
            </div>
            <div class="clearfix"></div>    
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="col-md-12">
        <div class="card col-md-12 pt-3 pb-3">
            <div class="row">
                <div class="col-md-8">
                    @if (Model.Avaliacoes.Count == 0)
                    {
                        <div>Esse livro não possui avaliações.</div>
                    
                        <div>
                            <strong>Faça a primeira :) </strong>
                        </div>
                    }
                </div>
                <div class="col-md-4 text-right">
                    @if (Model.PodeAvaliar)
                    {
                        <button class="btn btn-outline-dark" id="btn-avaliar" type="button" data-loading-text="Processando, aguarde..." 
                            data-livro-id="@Model.Id">Avaliar livro</button>
                    }
                </div>
            </div>
            <div id="avaliacoes">
                <partial name="_ListaAvaliacoes" model="Model.Avaliacoes" />
            </div>
        </div>
    </div>
</div>